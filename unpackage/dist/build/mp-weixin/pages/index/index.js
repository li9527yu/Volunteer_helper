(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"11c9":function(t,n,e){"use strict";var i=e("730a"),o=e.n(i);o.a},"32fb":function(t,n,e){"use strict";(function(t){e("d241");i(e("66fd"));var n=i(e("c21b"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"3f16":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("60ba")),o=e("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function u(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?u(Object(e),!0).forEach((function(n){r(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var a={data:function(){return{newsGet:!1,newsList:[],contextList:[],newsImage:"/static/img/indexNews.png",indexImg1:"tatic/img/index1.png",indexImg2:"/static/img/index2.png",indexImg3:"/static/img/index3.png"}},computed:c({},(0,o.mapState)(["token","uid","tel","pw","vid","isLogin","status"])),created:function(){this.newsGet=!1,this.isLogin||t.showModal({title:"您还未登录，是否现在登录？",success:function(n){n.confirm&&t.reLaunch({url:"../login/login"})}}),console.log(this.status)},onLoad:function(){this.isLogin&&(this.getworks(),this.getVolunteerInfo())},onShow:function(){console.log(this.status),this.isLogin||(this.newsGet=!1)},onPullDownRefresh:function(){this.getworks(),setTimeout((function(){t.stopPullDownRefresh()}),1500)},methods:{enterDetail:function(n){var e=this.newsList[n];e=JSON.stringify(e),e=encodeURIComponent(e),console.log(e),t.navigateTo({url:"./indexDetail?detail="+e})},getVolunteerInfo:function(){var n=this,e="Bearer ".concat(this.token);this.isLogin?t.request({url:"https://fwwb2020-proxy-slk.tgucsdn.com/volunteer/get",method:"POST",data:{uid:n.uid},header:{"content-type":"application/json",Authorization:e},success:function(t){console.log(t.data),200==t.data.status?(console.log("volunteer get success"),i.default.commit("volunteer",t.data.data.volunteer)):console.log(t.data)},fail:function(t){console.log(t)}}):t.showToast({title:"请先登录！",icon:"none",mask:!0,image:"../../static/img/error.png"})},getworks:function(){var n=this,e="Bearer ".concat(this.token);this.isLogin?(t.request({url:"https://fwwb2020-proxy-slk.tgucsdn.com/article/get15",method:"POST",data:{},header:{Authorization:e},success:function(e){if(console.log(e.data),200==e.data.status){t.showToast({title:"成功获得文章！",icon:"none",mask:!0,image:"../../static/img/success.png"});var i=e.data.data.article;0!=i.length&&(n.newsGet=!0,i.forEach((function(t,e){t.time=t.time.slice(0,10),null==t.username&&(t.username="匿名"),n.contextList.splice(e,1,t.context),n.newsList.splice(e,1,t)})))}else t.showToast({title:"".concat(e.data.msg),icon:"none",mask:!0,image:"../../static/img/error.png"})},fail:function(n){t.showToast({title:"获得文章失败",icon:"none",mask:!0,image:"../../static/img/error.png"}),console.log(n)}}),console.log(n.newsList)):t.showToast({title:"请先登录！",icon:"none",mask:!0,image:"../../static/img/error.png"})}}};n.default=a}).call(this,e("543d")["default"])},"62ea":function(t,n,e){"use strict";e.r(n);var i=e("3f16"),o=e.n(i);for(var s in i)"default"!==s&&function(t){e.d(n,t,(function(){return i[t]}))}(s);n["default"]=o.a},"730a":function(t,n,e){},c21b:function(t,n,e){"use strict";e.r(n);var i=e("dfb5"),o=e("62ea");for(var s in o)"default"!==s&&function(t){e.d(n,t,(function(){return o[t]}))}(s);e("11c9");var u,c=e("f0c5"),r=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],u);n["default"]=r.exports},dfb5:function(t,n,e){"use strict";e.d(n,"b",(function(){return o})),e.d(n,"c",(function(){return s})),e.d(n,"a",(function(){return i}));var i={uniList:function(){return e.e("uni_modules/uni-list/components/uni-list/uni-list").then(e.bind(null,"7007"))},uniListItem:function(){return e.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(e.bind(null,"4450"))},uniRow:function(){return e.e("uni_modules/uni-row/components/uni-row/uni-row").then(e.bind(null,"8719"))},uniCol:function(){return e.e("uni_modules/uni-row/components/uni-col/uni-col").then(e.bind(null,"cc0e"))}},o=function(){var t=this,n=t.$createElement;t._self._c},s=[]}},[["32fb","common/runtime","common/vendor"]]]);